<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Dashboard Operator | Monitoring Isu Viral</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.tailwindcss.com"></script>

<style>
body{background:#000}
.gold{color:#d4af37}
.gold-border{border:1px solid #d4af37}
.card{background:#0f0f0f}
</style>
</head>

<body class="min-h-screen p-6 text-gray-200">

<div class="max-w-6xl mx-auto gold-border card rounded-2xl">

<div class="p-6 border-b gold-border flex items-center gap-4">
  <img src="logo%20instansi.png" class="w-10 h-10">
  <div>
    <div class="gold font-black text-lg">POLDA PAPUA</div>
    <div class="text-xs text-gray-400">DASHBOARD OPERATOR</div>
  </div>
</div>

<div class="p-6 overflow-x-auto">
<table class="w-full text-sm border-collapse">
<thead class="gold-border border-b">
<tr class="gold">
  <th class="p-2 text-left">Waktu</th>
  <th class="p-2 text-left">Link</th>
  <th class="p-2 text-left">Keterangan</th>
  <th class="p-2 text-left">Sumber</th>
  <th class="p-2 text-left">Status</th>
</tr>
</thead>
<tbody id="tabel">
<tr>
  <td colspan="5" class="p-4 italic text-gray-400">Memuat data...</td>
</tr>
</tbody>
</table>
</div>

</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbz5bBODGp-9rqXVc7wBUWOpUiXNpNB8JJPNe4vBJqZvb3UAbZ3Al4V2_3lr9Se1Hw_wQw/exec";

fetch(API_URL)
  .then(res => res.json())
  .then(data => {
    const tbody = document.getElementById("tabel");
    tbody.innerHTML = "";

    if(data.length === 0){
      tbody.innerHTML =
        `<tr><td colspan="5" class="p-4 italic text-gray-400">Belum ada data</td></tr>`;
      return;
    }

    data.reverse().forEach(d => {
      tbody.innerHTML += `
      <tr class="border-b border-gray-800">
        <td class="p-2">${new Date(d.waktu).toLocaleString("id-ID")}</td>
        <td class="p-2 text-blue-400 break-all">${d.link}</td>
        <td class="p-2">${d.keterangan}</td>
        <td class="p-2">${d.sumber}</td>
        <td class="p-2">${d.status}</td>
      </tr>`;
    });
  })
  .catch(() => {
    document.getElementById("tabel").innerHTML =
      `<tr><td colspan="5" class="p-4 text-red-500">Gagal memuat data</td></tr>`;
  });
</script>

</body>
</html>
